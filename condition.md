#####Текст задания:

###Необходимо реализовать микросервис отправки СМС на базе HTTP web api.
Требования:
* использование реляционной базы данных (postgresql или mysql / mariadb)
* сервис предоставляет возможность отправить смс с неким текстом до 140 ascii символов на любой телефонный номер
* каждому отправленному сообщению присваивается uuid - идентификатор, по которому можно проверить статусы отправки / доставки. Сервис ведет учет этих данных
* сервис предоставляет возможность интеграции с более чем одним провайдером услуг отправки СМС.

Для целей этого учебного задания нужно реализовать два из них, но надо предусмотреть возможность что будут в последующем подключены еще.

     1) провайдер "файл". который вместо отправки будет сохранять тексты смс в папку "sent_sms" в виде файлов формата <датавремя в iso формате>_<телефон>.txt
         Если номер телефона четный - смс "доставится" через 10 секунд после отправки. если нечетный - отправка неуспешна.     

     2) провайдет "заглушка". который не будет ничего делать а просто принимать смс к отправке. Этот провайдер не поддерживает возможность узнать доставлена смс или нет.
     
   Выбор провайдера для отправки определяется пользователем при отправке СМС. При неуказании провайдера сервис сам решит какого выбрать (этот выбор не регламентируется)
     

* если отправка смс неуспешна, происходит автоматический повтор отправки, максимум попыток определяется для каждого провайдера отдельно. (для сохранения в файлы = 3, для заглушки = 1).
промежуток между повторами определяется для каждого провайдера отдельно (по умолчанию 0.5 у каждого)
* время ожидания ответа от сервера на любой запрос не должно превышать 1 секунды.
* сервис не хранит информацию о пользователях (особое внимание обратить тем кто будет писать задание на django). Запрос считается авторизованным при наличии HTTP заголовка

    Authorization: SMSAUTH:<username>

Дополнительные критерии оценки (положительные и отрицательные). Каждый плюс это плюс, каждый минус это минус.
+ код структурирован, функционал вынесен в отдельные модули там где это нужно.
+ 90 % функций содержат док стринги.
+ Комментарии присутствуют в нужных местах
+ Наличие юнит тестов
+ Покрытие юнит тестов > 90%
+ используется типизация
+ Наличие в проекте линтера
+ Использование библиотек валидации/сериализации. Все входные данные проходят валидацию
+ API соответствует Restful парадигме
+ используется docker / docker-compose
+ Код выложен на github/gitlab и настроены пайплайны на проверку кода тестами / линтерами
+ Ошибки (ответы с HTTP кодами не 200/201) имеют единый формат ответов.

Минусы:
- Длина строк более 120 символов
- Многократное и явное нарушение PEP8 (flake8)
- Можно получить 500-ку при определенной комбинации входных параметров
- Транзакциями обернуты участки кода более чем минимально необходимо (если это необходимо)
- Приложение не масштабируется (например отсутствуют индексы на нужных полях БД)


ЕСЛИ ВСЕ СДЕЛАЛИ И ХОЧЕТСЯ СДЕЛАТЬ ЧТО-ТО ЕЩЕ В КАЧЕСТВЕ ДОПЗАДАНИЙ (маловероятно но может сложиться, или в качестве дополнительной практики):
ВСЕ ЭТИ ТРЕБОВАНИЯ НЕОБЯЗАТЕЛЬНЫЕ И УКАЗАНЫ В КАЧЕСТВЕ ДОПОЛНИТЕЛЬНОГО ЧЕЛЛЕНДЖА ЕСЛИ ХОЧЕТСЯ ИСПЫТАТЬ СВОИ ЗНАНИЯ
   * каждый из провайдеров может определять максимальное число смс в минуту которое можно сделать. Если число запросов превышено - смс ставится "в очередь" или берется другой провайдер
   * если в течении последней минуты какой-то провайдеров сбоит (все попытки отправки смс были неуспешными), этот провайдер не используется к отправке. Провайдеры выбираются согласно "рейтингу стабильности" который высчитывается каждую минуту для всех провайдеров (число доставленных смс / число попыток отправки).
   * провайдер может иметь информацию в каком регионе мира он действует. При отправке выбираются только те провайдеры, которые соответсвуют стране регистрации телефона.  
   * авторизация по jwt токену (подпись hmac + sha256). Все токены выпускаются единым SSO, открытый ключ которого хранится в настройках вашего сервиса.
   * в случае систематического сбоя провайдера/провайдеров в течении часа (ни одной успешно отправленной смс), отсылается уведомление админам (из настроек) о сбое
   * каждую минуту идет отправка метрик о количестве  попыток/отправленных/доставленных сообщений в clickhouse или prometheus
и так далее.